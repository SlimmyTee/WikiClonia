{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/WikiApp/Menu/style.sass","webpack:///./src/components/WikiApp/Navigation/style.sass","webpack:///./src/components/WikiApp/Article/index.js","webpack:///./src/scss/main.scss","webpack:///./src/components/WikiApp/index.js","webpack:///./src/wiki_parser/index.js","webpack:///./src/components/WikiApp/Content/index.js","webpack:///./src/components/WikiApp/Elements/index.js","webpack:///./src/components/WikiApp/Menu/index.js","webpack:///./src/asset/images/search.svg","webpack:///./src/asset/images/profile.svg","webpack:///./src/components/WikiApp/Navigation/index.js","webpack:///./src/asset/images/left.svg","webpack:///./src/asset/images/right.svg","webpack:///./src/pages/wiki/index.js","webpack:///./src/components/WikiApp/style.sass"],"names":["ImagesContext","React","createContext","titles","title","Math","floor","random","length","Article","useState","images","setImages","parsed","setParsed","useEffect","url","fetch","then","response","json","_text","rawText","parse","wikitext","result","main","error","console","log","data","imgs","query","pages","res","key","imageinfo","replace","children","headings","App","UNITS","convert","list","ABBR_UNITS","map","unit","abbr","taste","s","t","i","substr","capitalizeFirst","string","charAt","toUpperCase","slice","capitalize","toLowerCase","trimQuote","str","clean","obj","value","undefined","Array","isArray","Object","keys","constructor","CiteParser","plain","R_CITE","exec","groups","subType","attributes","attribute","split","pair","equalIndex","indexOf","trim","type","ConvertParser","toMetric","fromUnit","from","possibilities","toUnit","fromSystem","describe","system","toAbbr","test","lower","singular","plural","tokens","numbers","answer","shift","to","elementName","text","toFixed","ReferenceParser","refname","refgroup","match","remain","R_HEAD","R_GROUP","R_NAME","R_FIRSTUSE","FootnoteParser","fnGroup","fnName","R_FOOTNOTE","GalleryParser","R_GALLERY","attr","content","R_PAIR","image","push","parsePairPipe","nextIndex","parsedPlain","R_KEY","PairPipe","MultipleImageParser","R_MULTIPLE_IMAGES","R_KEY_IMAGE","pairs","imageKey","imageID","caption","supType","options","InfoboxParser","R_INFO","subtype","sections","section","internalParse","element","R_EXTERNAL","displayText","R_ARTICLE","fullUrl","nonePipe","trailingPipe","suffixStr","namespace","disambiguation","rootUrl","urlMatch","chunks","first","R_MEDIA","meta","R_OPTION","R_ATTRIBUTE","chunk","join","Comment","startToken","endToken","allowedChildren","Break","selfClose","BoldItalic","Bold","Italic","Gallery","Link","ExternalLink","Heading1","Heading2","Heading3","Heading4","Heading5","Heading6","Reference","Template","BlockQuote","Global","analyseHeadings","getLevel","heading","currentLevel","currentHeading","indices","level","headingText","headingId","id","className","childrenHeadings","parentHeading","parent","grandParent","strlen","index","e","buffer","has","nextElement","referenceIndex","nextPlain","hasSelfClose","matchElement","catchEndToken","eToken","nowiki","Content","Text","splitText","setSplitText","paragraphs","props","publisher","accessdate","JSON","stringify","Element","renderChildren","valueImages","useContext","float","Menu","Navigation","headingsRef","useRef","handle","direction","width","current","scrollWidth","pos","scrollLeft","visibleWidth","clientWidth","maxPos","slideWidth","min","max","handle2","document","getElementById","body","scrollTop","offsetTop","getElementsByClassName","offsetHeight","ReactDOM","render"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;ACvJA;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;ACNL;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNL;CAEA;AACA;;AACA;AACA;AACA;AACA;AACO,IAAMA,aAAa,GAAGC,4CAAK,CAACC,aAAN,CAAoB,IAApB,CAAtB;AAEP,IAAMC,MAAM,GAAG,CACb,eADa,EAEb,4BAFa,EAGb,mBAHa,EAIb,WAJa,EAKb,aALa,CAAf;AAQA,IAAMC,KAAK,GAAGD,MAAM,CAACE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;0BA5kCMnJ,K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","file":"wiki.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t4: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([91,0,3]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587657500807\n      var cssReload = require(\"/Users/hoangnam/Dev/Templates/ReactJS/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"reloadAll\":true,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587657500792\n      var cssReload = require(\"/Users/hoangnam/Dev/Templates/ReactJS/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"reloadAll\":true,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import React, { Fragment, useState, useEffect } from \"react\";\nimport { main } from \"./../../../wiki_parser\";\n// import Sidebar from \"./../SideBar\";\n// import Reference from \"./../Reference\";\nimport Content from \"./../Content\";\nimport Menu from \"./../Menu\";\nimport Navigation from \"./../Navigation\";\nimport \"lazysizes\";\nexport const ImagesContext = React.createContext(null);\n\nconst titles = [\n  \"New_York_City\",\n  \"The_Last_Supper_(Leonardo)\",\n  \"Leonardo_da_Vinci\",\n  \"Mona_Lisa\",\n  \"Renaissance\"\n];\n\nconst title = titles[Math.floor(Math.random() * titles.length)];\n\nconst Article = () => {\n  const [images, setImages] = useState({});\n  // const [references, setReferences] = useState([]);\n  const [parsed, setParsed] = useState({});\n  // const title = titles[Math.floor(Math.random() * titles.length)];\n  // title = title || \"New_York_City\";\n  // title = title || \"The_Last_Supper_(Leonardo)\";\n  // title = title || \"Leonardo_da_Vinci\";\n  // title = title || \"Mona_Lisa\";\n\n  // get main content\n  useEffect(() => {\n    var url = `https://en.wikipedia.org/w/api.php?action=parse&page=${title}&format=json&prop=wikitext&origin=*`;\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(_text => {\n        let rawText = _text.parse.wikitext[\"*\"];\n        let result = main(rawText);\n        setParsed(result);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }, []);\n\n  // get references\n  // useEffect(() => {\n  //   if (parsed.children) {\n  //     let res = [];\n  //     for (const element of parsed.children) {\n  //       if (element.elementName == \"Reference\") {\n  //         res.push(element);\n  //       }\n  //     }\n  //     setReferences(res);\n  //   }\n  // }, [parsed]);\n\n  // get images\n  useEffect(() => {\n    var url = `https://en.wikipedia.org/w/api.php?action=query&titles=${title}&generator=images&gimlimit=500&prop=imageinfo&iiprop=url|dimensions|mime&format=json&origin=*`;\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(data => {\n        let imgs = data.query.pages,\n          res = {};\n        for (const key in imgs) {\n          res[imgs[key].title] = imgs[key].imageinfo[0];\n        }\n        setImages(res);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <ImagesContext.Provider value={{ images }}>\n      <Fragment>\n        <Menu />\n        <div className=\"article\">\n          {/*<Sidebar content={parsed.images} images={images} />*/}\n          <div className=\"hero\">\n            <div className=\"hero__title\">{title.replace(/_/g, \" \")}</div>\n            <div className=\"hero__credit\">\n              From Wikipedia, the free encyclopedia\n            </div>\n            <Content content={parsed.children} />\n            {/*<Reference {...{ references }} />*/}\n          </div>\n        </div>\n        <Navigation headings={parsed.headings} />\n      </Fragment>\n    </ImagesContext.Provider>\n  );\n};\n\nexport default Article;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587657501480\n      var cssReload = require(\"/Users/hoangnam/Dev/Templates/ReactJS/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"reloadAll\":true,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import React from \"react\";\nimport Article from \"./Article\";\nconst App = () => {\n  return <Article />;\n};\n\nexport default App;\n","import convert from \"convert-units\";\n//\n// var convert = require(\"convert-units\");\nconst UNITS = convert().list();\nconst ABBR_UNITS = convert()\n  .list()\n  .map(unit => unit.abbr);\n\nconst taste = (s, t, i) => s[i] == t[0] && s.substr(i, t.length) == t;\n\nconst capitalizeFirst = string =>\n  string.charAt(0).toUpperCase() + string.slice(1);\n\nconst capitalize = string =>\n  string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n\nconst trimQuote = str =>\n  str && '\"' == str[0] && '\"' == str[str.length - 1]\n    ? str.slice(1, str.length - 1)\n    : str;\n\nconst clean = obj => {\n  let res = {};\n  for (const key in obj) {\n    let value = obj[key];\n    if (\n      value === null ||\n      value === undefined ||\n      (Array.isArray(value) && value.length === 0) ||\n      (Object.keys(value).length === 0 && value.constructor === Object)\n    )\n      continue;\n    res[key] = value;\n  }\n  return res;\n};\n\nconst CiteParser = plain => {\n  let R_CITE = /\\{\\{cite (?<subType>\\w+)\\s*\\|?(?<attributes>[\\S\\s]*)}}$/gi;\n\n  let { subType, attributes } = R_CITE.exec(plain).groups,\n    attribute = {};\n\n  for (const pair of attributes.split(\"|\")) {\n    let equalIndex = pair.indexOf(\"=\");\n    let [key, value] = [\n      pair.slice(0, equalIndex),\n      pair.slice(equalIndex + 1).trim()\n    ];\n    attribute[key] = value;\n  }\n  return { type: \"cite\", subType, attribute };\n};\n\nconst ConvertParser = plain => {\n  const toMetric = fromUnit => {\n    let res = null;\n    try {\n      for (const toUnit of convert()\n        .from(fromUnit)\n        .possibilities()) {\n        let fromSystem = convert().describe(toUnit).system;\n        if (\"metric\" == fromSystem) res = toUnit;\n      }\n    } catch {\n      return null;\n    }\n    return res;\n  };\n\n  const toAbbr = str => {\n    if (/^°?[CF]$/.test(str)) return str;\n    let lower = str.toLowerCase();\n    for (const unit of UNITS) {\n      if (\n        unit.abbr.toLowerCase() == lower ||\n        unit.singular.toLowerCase() == lower ||\n        unit.plural.toLowerCase() == lower\n      )\n        return unit.abbr;\n    }\n    return str;\n  };\n\n  let tokens = plain.slice(2, -2).split`|`,\n    numbers = null,\n    fromUnit,\n    toUnit = null,\n    answer = null;\n\n  tokens.shift();\n\n  numbers = tokens.shift();\n\n  fromUnit = toAbbr(tokens.shift());\n\n  if (/^°?C$/.test(fromUnit)) {\n    fromUnit = \"°C\";\n    toUnit = \"°F\";\n    answer = +numbers / (5 / 9) + 32;\n  } else if (/^°?F$/.test(fromUnit)) {\n    fromUnit = \"°F\";\n    toUnit = \"°C\";\n    answer = (+numbers - 32) * (5 / 9);\n  } else {\n    if (tokens.length && ABBR_UNITS.indexOf(tokens[0]) != -1) {\n      toUnit = tokens.shift();\n    }\n\n    if (!toUnit) toUnit = toMetric(fromUnit);\n    if (numbers && toUnit && fromUnit) {\n      try {\n        answer = convert(+numbers)\n          .from(fromUnit)\n          .to(toUnit);\n      } catch {\n        return {\n          elementName: \"Text\",\n          text: `${numbers} ${fromUnit}`\n        };\n      }\n    }\n  }\n\n  answer = answer ? answer.toFixed(2) : null;\n  if (fromUnit && toUnit && answer !== null) {\n    return {\n      elementName: \"Text\",\n      text: `${numbers} ${fromUnit} (${answer} ${toUnit})`\n    };\n  }\n\n  return {\n    elementName: \"Text\",\n    text: `${numbers} ${fromUnit}`\n  };\n};\n\nconst ReferenceParser = plain => {\n  let refname,\n    refgroup,\n    children,\n    match,\n    remain = plain;\n\n  // 1. Extract tag name\n  const R_HEAD = /^<ref(erences)? *(?<remain>[\\s\\S]*)$/gi;\n  if ((match = R_HEAD.exec(plain)) === null)\n    throw \"Reference Synxtax Error \" + plain;\n\n  remain = match.groups.remain;\n\n  // 2. Try extract refgroup\n  const R_GROUP = /^group *= *(?<refgroup>\\\"[^#\\\"\\'\\/=>\\?\\\\]+\\\"|[^\\#\\\"\\'\\/=>\\?\\\\ ]+)\\s*(?<remain>[\\s\\S]*)$/gi;\n  if ((match = R_GROUP.exec(remain)) !== null) {\n    ({ remain, refgroup } = match.groups);\n    refgroup = trimQuote(refgroup);\n  }\n\n  // 3. Try extract refname\n  const R_NAME = /^name *= *(?<refname>\\\"[^#\\\"\\/=>\\\\]+\\\"|[^\\#\\\"\\'\\/=>\\?\\\\ ]+)\\s*(?<remain>[\\s\\S]*)$/gi;\n  if ((match = R_NAME.exec(remain)) !== null) {\n    ({ remain, refname } = match.groups);\n    refname = trimQuote(refname);\n  }\n\n  // 4.1. Reuse Reference\n  if (/^\\s*\\/>$/.exec(remain)) {\n    return { type: \"reuse\", refname, refgroup };\n  }\n\n  // 4.2. Firstuse Reference\n  const R_FIRSTUSE = /^>(?<children>[\\s\\S]+)<\\/ref>$/gi;\n  if ((match = R_FIRSTUSE.exec(remain)) === null) {\n    throw \"Firstuse Reference Error \" + remain;\n  }\n\n  children = main(match.groups.children).children;\n  refname = trimQuote(refname);\n  refgroup = trimQuote(refgroup);\n\n  return { type: \"firstuse\", refname, refgroup, children };\n};\n\nconst FootnoteParser = plain => {\n  let match,\n    remain,\n    fnGroup,\n    fnName,\n    subType,\n    children,\n    type = \"footnote\";\n\n  // 1. Extract subType footnote\n  const R_FOOTNOTE = /^\\{\\{(?<subType>[^|]+)\\|(?<remain>[\\S\\s]+)}}$/;\n  if ((match = R_FOOTNOTE.exec(plain)) === null) throw \"Footnote Error\";\n  ({ subType, remain } = match.groups);\n\n  // 2. Extract group footnote\n  const R_GROUP = /^group=(?<fnGroup>\\\"[^#\\\"\\'\\/=>\\?\\\\]+\\\"|[^\\#\\\"\\'\\/=>\\?\\\\ ]+)\\|(?<remain>[\\s\\S]+)$/;\n  if ((match = R_GROUP.exec(remain)) !== null) {\n    ({ fnGroup, remain } = match.groups);\n  }\n\n  // 3. Extract name footnote\n  const R_NAME = /^name=(?<fnName>\\\"[^#\\\"\\'\\/=>\\?\\\\]+\\\"|[^\\#\\\"\\'\\/=>\\?\\\\ ]+)(\\|(?<remain>[\\s\\S]+))?$/;\n  if ((match = R_NAME.exec(remain)) !== null) {\n    ({ fnName, remain } = match.groups);\n  }\n\n  // 4. Parse real content footnote\n  children = remain ? main(remain).children : [];\n\n  // NOTE: numering foonote will be done in analyseReference function\n  return { type, subType, fnName, fnGroup, children };\n};\n\nconst GalleryParser = plain => {\n  const R_GALLERY = /\\<gallery\\s+(?<attr>[^>]+)?>(?<content>[\\s\\S]+)<\\/gallery>/gi;\n  let match,\n    attr,\n    content,\n    attributes = {};\n  if ((match = R_GALLERY.exec(plain)) === null) throw \"Gallery Syntax Error\";\n\n  ({ attr, content } = match.groups);\n\n  const R_PAIR = /\\s*(?<key>\\w+)=(?<value>\\\"[^#\\\"\\'\\/=>\\?\\\\]+\\\"|[^\\#\\\"\\'\\/=>\\?\\\\ ]+)/g;\n\n  while ((match = R_PAIR.exec(attr)) !== null) {\n    let { key, value } = match.groups;\n    attributes[key] = trimQuote(value);\n  }\n\n  let images = [];\n  for (let image of content.split(\"\\n\")) {\n    if (/^\\s*$/g.exec(image)) continue;\n    image = /^\\s*([\\s\\S]+)\\s*$/g.exec(image)[0];\n    images.push(main(`[[${image}]]`).children[0]);\n  }\n  return { attributes, images };\n};\n\nconst parsePairPipe = plain => {\n  let res = {},\n    remain = plain,\n    key,\n    nextIndex,\n    parsedPlain,\n    match;\n\n  const R_KEY = /^[\\|\\s]*(?<key>\\w+)\\s*=(?<remain>[\\s\\S]*)$/;\n\n  while (remain) {\n    if ((match = R_KEY.exec(remain)) === null)\n      throw \"PairPipe Syntax Error \" + remain;\n    ({ key, remain } = match.groups);\n\n    [nextIndex, , parsedPlain] = parse(remain, null, 0, PairPipe);\n    remain = remain.substr(nextIndex);\n\n    let value = parsedPlain;\n    match = /^\\s*(?<value>[\\s\\S]+?)[\\|\\s]*$/.exec(value);\n    if (match === null) throw `Infobox Syntax Error ${value}`;\n    value = match.groups.value;\n    res[key] = value == \"|\" ? \"\" : value;\n  }\n\n  return res;\n};\n\nconst MultipleImageParser = plain => {\n  const R_MULTIPLE_IMAGES = /^\\{\\{multiple image\\s*\\|(?<remain>[\\s\\S]+)}}$/gi;\n\n  let match = R_MULTIPLE_IMAGES.exec(plain),\n    attributes = {},\n    images = [];\n\n  if (match === null) throw \"MultipleImageParser Error \" + plain;\n\n  let { remain } = match.groups;\n\n  let R_KEY_IMAGE = /^\\s*(?<imageKey>[a-z\\-\\_]+)(?<imageID>\\d+)\\s*$/i;\n\n  let pairs = parsePairPipe(remain);\n\n  for (const key of Object.keys(pairs)) {\n    const value = pairs[key];\n    if ((match = R_KEY_IMAGE.exec(key)) === null) {\n      attributes[key] = value;\n      continue;\n    }\n\n    let { imageKey, imageID } = match.groups;\n    imageID = +imageID - 1;\n    if (images[imageID] === undefined) images.push({});\n    if (\"image\" == imageKey) {\n      images[imageID].url = \"File:\" + value.trim();\n    } else if (\"caption\" == imageKey) {\n      images[imageID].caption = main(value).children;\n    } else images[imageID][imageKey] = value;\n  }\n\n  images = images.map(image => ({\n    elementName: \"Link\",\n    type: \"media\",\n    supType: \"File\",\n    url: image.url,\n    options: [],\n    caption: image.caption || [{ elementName: \"Text\", text: \"\" }]\n  }));\n\n  return { type: \"multipleImages\", images, attributes };\n};\n\nconst InfoboxParser = plain => {\n  const R_INFO = /^\\{\\{Infobox (?<subtype>[^|]+)\\s*\\|(?<remain>[\\s\\S]+)}}$/gi;\n  let match = R_INFO.exec(plain),\n    subtype,\n    remain,\n    sections = [];\n  if (match === null) throw \"Infobox Syntax Error\" + plain;\n\n  ({ subtype, remain } = match.groups);\n\n  for (const section of remain.split`----`) {\n    // console.log(section);\n    // console.log(\"--------------\");\n\n    let attributes = parsePairPipe(section);\n\n    // clean leading space and trailing \"|\" and \"---\"\n\n    // for (const key of Object.keys(attributes)) {\n    //   let value = attributes[key];\n    //   match = /^(?<content>[\\s\\S]+?)[\\|\\s]*$/.exec(value);\n    //   if (match === null) throw `Infobox Syntax Error ${value}`;\n    //   content = match.groups.content;\n    //   attributes[key] = content == \"|\" ? \"\" : content;\n    // }\n    sections.push(attributes);\n  }\n\n  return { type: \"Infobox\", subtype, sections };\n};\n\nconst internalParse = (element, content, plain) => {\n  if (element.elementName == \"Reference\") {\n    return ReferenceParser(plain);\n  }\n\n  if (element.elementName == \"Gallery\") return GalleryParser(plain);\n\n  if (element.elementName == \"ExternalLink\") {\n    const R_EXTERNAL = /^\\[(?<url>\\S+)( (?<displayText>[\\s\\S]+))?\\]$/gi;\n    let match, url, displayText;\n    if ((match = R_EXTERNAL.exec(plain)) !== null) {\n      ({ url, displayText } = match.groups);\n      return { url, displayText };\n    } else {\n      throw \"ExternalLink Grammar Error\";\n    }\n  }\n\n  if (element.elementName == \"Template\") {\n    if (/^{{[Cc]ite/g.test(plain)) {\n      return CiteParser(plain);\n    } else if (/^{{(refn|efn|efn-(la|ua|lr|ur|lg))\\|/.test(plain)) {\n      return FootnoteParser(plain);\n    } else if (/^{{lang-\\w+\\|/gi.test(plain)) {\n      let text = /\\|(.*)}}$/.exec(plain)[1];\n      return {\n        elementName: \"Italic\",\n        children: [\n          {\n            elementName: \"Text\",\n            text\n          }\n        ]\n      };\n    } else if (/^{{IPA-\\w+\\|/gi.test(plain)) {\n      let text = /\\|(.*)}}$/.exec(plain)[1];\n      return {\n        elementName: \"Text\",\n        text: \"[\" + text + \"]\"\n      };\n    } else if (/^{{convert/gi.test(plain)) {\n      return ConvertParser(plain);\n    } else if (/^{{multiple image/gi.test(plain)) {\n      return MultipleImageParser(plain);\n    } else if (/^{{Infobox \\w+/gi.test(plain)) {\n      return InfoboxParser(plain);\n    }\n\n    return {\n      type: \"N/A\",\n      // children: [{ elementName: \"Text\", text: `<--N/A--${plain}-->` }]\n      children: [{ elementName: \"Text\", text: \"N/A\" }]\n    };\n  }\n\n  if (element.elementName == \"Link\") {\n    // console.log({ plain });\n    let match;\n    /********************************\n     *          FREE LINK\n     *******************************/\n\n    /*\n    /* ^\n    /*  \\[\\[            startTokent\n    /*  ([^|]+)         fullUrl\n    /*  (\\|([^|]+)?)?   optinal (pipe and optinal display text)\n    /*  \\]\\]            endToken\n    /*  (\\w+)?          suffixStr\n    /* $\n    */\n\n    let R_ARTICLE = /^\\[\\[([^|]+)(\\|([^|]+)?)?\\]\\](\\w+)?$/;\n    if ((match = R_ARTICLE.exec(plain))) {\n      let fullUrl = match[1],\n        nonePipe = !match[2],\n        trailingPipe = match[2] && !match[3],\n        displayText = match[3],\n        suffixStr = match[4] || \"\";\n\n      // console.log({\n      //   fullUrl,\n      //   nonePipe,\n      //   trailingPipe,\n      //   displayText,\n      //   suffixStr\n      // });\n\n      // Manipulate the url\n      let namespace, disambiguation, rootUrl, url;\n\n      //\n      // ^\n      //  ((\\w+):)?   namespace?\n      //  (\n      //      ([\\w\\-,. ]+)( \\((.+)\\))  commas has priority over parantheses\n      //    |\n      //      ([\\w\\-. ]+)\n      //      (\n      //          \\((.+)\\)          trailing parentheses\n      //        |\n      //          , (.+)            trailing comma\n      //      )?\n      //  )\n      // $\n\n      // let urlMatch = /^(:?(\\w+):)?\n      // (\n      //   ([\\w\\-,.#\\\"\\(\\) ]+)( \\((.+)\\))\n      //   |\n      //   ([\\w\\-.#\\\"\\(\\) ]+)( \\((.+)\\)|, (.+))?\n      // )$/.exec(\n      //   fullUrl\n      // );\n      // ([\\w\\-,.#\\\"\\(\\) ]+)( \\((.+)\\))\n\n      let urlMatch = /^(:?(\\w+):)?(([^\\(]+)( \\((.+)\\))|([^,(]+)( \\((.+)\\)|, (.+))?|([\\s\\S]*))$/.exec(\n        fullUrl\n      );\n\n      if (urlMatch === null) {\n        // console.log(\"@\");\n        return content;\n      }\n      namespace = capitalize(urlMatch[1] || \"\");\n      rootUrl = urlMatch[4] || urlMatch[7] || urlMatch[11];\n      disambiguation = urlMatch[5] || urlMatch[8] || \"\";\n\n      if (\"File:\" != namespace) {\n        url = namespace + capitalizeFirst(rootUrl) + disambiguation;\n        url = url.replace(/ /g, \"_\"); // convert to valid URL\n        displayText = nonePipe ? fullUrl : trailingPipe ? rootUrl : displayText;\n\n        if (suffixStr) {\n          displayText += suffixStr;\n        }\n\n        displayText = [{ elementName: \"Text\", text: displayText }];\n        return {\n          type: \"wikiLink\",\n          url,\n          displayText\n        };\n      }\n    }\n\n    // For handling format like:\n    // [[File:Gatera de ademuz.jpg|thumb|left|A ''{{lang|es|gatera}}''\n    // in [[Rincón de Ademuz]]\n\n    let chunks = plain.slice(2, -2).split(\"|\");\n    let first = chunks[0];\n    let R_MEDIA = /^(File|Image|Media):(.*)$/i;\n    if ((match = R_MEDIA.exec(first))) {\n      let type = \"media\",\n        supType = capitalizeFirst(match[1]),\n        rootUrl = capitalizeFirst(match[2]),\n        url = `${supType}:${rootUrl}`;\n      let meta = { type, supType, url },\n        options = [],\n        caption = [];\n      let R_OPTION = /^(border|frame(less)?|thumb(nail)?|((\\d+)?x)?\\d+px|upright[ =]\\d+\\.\\d+|upright=?|left|right|cent(er|re)|none|baseline|sub|super|top|text-top|middle|bottom|text-bottom|(alt|page|class|lang|link)=.+)$/i,\n        R_ATTRIBUTE = /^(alt|page|class|lang|link)=(.*$)/i;\n\n      for (const chunk of chunks.slice(1)) {\n        // console.log(chunk);\n        if (!R_OPTION.test(chunk)) {\n          caption.push(chunk);\n          continue;\n        }\n\n        let match;\n        if ((match = R_ATTRIBUTE.exec(chunk))) {\n          options.push({ key: match[1], value: match[2] });\n        } else options.push(chunk);\n      }\n\n      caption = main(caption.join(\"|\")).children;\n      return { ...meta, options, caption };\n    }\n  }\n  return { children: content };\n};\n\nconst Comment = {\n    elementName: \"Comment\",\n    startToken: \"<!--\",\n    endToken: [\"-->\"],\n    allowedChildren: []\n  },\n  Break = {\n    elementName: \"Break\",\n    startToken: \"<br />\",\n    endToken: [],\n    allowedChildren: [],\n    selfClose: true\n  },\n  BoldItalic = {\n    elementName: \"BoldItalic\",\n    startToken: \"'''''\",\n    endToken: [\"'''''\"],\n    allowedChildren: []\n  },\n  Bold = {\n    elementName: \"Bold\",\n    startToken: \"'''\",\n    endToken: [\"'''\"],\n    allowedChildren: []\n  },\n  Italic = {\n    elementName: \"Italic\",\n    startToken: \"''\",\n    endToken: [\"''\"],\n    allowedChildren: []\n  },\n  Gallery = {\n    elementName: \"Gallery\",\n    startToken: \"<gallery\",\n    endToken: [\"</gallery>\"],\n    allowedChildren: []\n  },\n  Link = {\n    elementName: \"Link\",\n    startToken: \"[[\",\n    endToken: [\"]]\"],\n    allowedChildren: [Bold, Italic]\n  },\n  ExternalLink = {\n    elementName: \"ExternalLink\",\n    startToken: \"[\",\n    endToken: [\"]\"],\n    allowedChildren: []\n  },\n  Heading1 = {\n    elementName: \"Heading1\",\n    startToken: \"==\",\n    endToken: [\"==\"],\n    allowedChildren: []\n  },\n  Heading2 = {\n    elementName: \"Heading2\",\n    startToken: \"===\",\n    endToken: [\"===\"],\n    allowedChildren: []\n  },\n  Heading3 = {\n    elementName: \"Heading3\",\n    startToken: \"====\",\n    endToken: [\"====\"],\n    allowedChildren: []\n  },\n  Heading4 = {\n    elementName: \"Heading4\",\n    startToken: \"=====\",\n    endToken: [\"=====\"],\n    allowedChildren: []\n  },\n  Heading5 = {\n    elementName: \"Heading5\",\n    startToken: \"======\",\n    endToken: [\"======\"],\n    allowedChildren: []\n  },\n  Heading6 = {\n    elementName: \"Heading6\",\n    startToken: \"=======\",\n    endToken: [\"=======\"],\n    allowedChildren: []\n  },\n  Reference = {\n    elementName: \"Reference\",\n    startToken: \"<ref\",\n    endToken: [\"</ref>\", \"/>\"],\n    allowedChildren: []\n  },\n  Template = {\n    elementName: \"Template\",\n    startToken: \"{{\",\n    endToken: [\"}}\"],\n    allowedChildren: []\n  },\n  BlockQuote = {\n    elementName: \"Block Quote\",\n    startToken: \"<blockquote>\",\n    endToken: [\"</blockquote>\"],\n    allowedChildren: [Italic, Bold, BoldItalic]\n  },\n  PairPipe = {\n    elementName: \"PairPipe\",\n    startToken: null,\n    endToken: [\"|\"],\n    allowedChildren: []\n  },\n  Global = {\n    elementName: \"Global\",\n    startToken: null,\n    endToken: null,\n    allowedChildren: [\n      Comment,\n      Gallery,\n      Break,\n      BoldItalic,\n      Bold,\n      Italic,\n      Link,\n      ExternalLink,\n      Heading6,\n      Heading5,\n      Heading4,\n      Heading3,\n      Heading2,\n      Heading1,\n      Reference,\n      BlockQuote,\n      Template\n    ]\n  };\n\nLink.allowedChildren.push(Link);\nItalic.allowedChildren.push(Link);\nReference.allowedChildren.push(Break, Template);\nTemplate.allowedChildren.push(Template, Reference, Link);\nPairPipe.allowedChildren = Global.allowedChildren;\n\nconst analyseHeadings = headings => {\n  if (!headings.length) return null;\n  let getLevel = heading => +/^Heading(\\d)$/.exec(heading.elementName)[1];\n  let currentLevel = 0,\n    res = {},\n    currentHeading = res;\n\n  res.indices = [];\n\n  for (const heading of headings) {\n    let level = getLevel(heading),\n      headingText = heading.children[0].text.trim(),\n      headingId = headingText.replace(/\\s/, \"\") + \"_\" + level;\n\n    // add metadata\n    heading.level = level;\n    heading.text = headingText;\n    heading.id = headingId;\n    heading.className = \"wiki-heading-\" + level;\n    heading.indices = currentHeading.indices.slice();\n\n    // connect heading to heading tree\n    if (level > currentLevel) {\n      heading.indices.push(1);\n\n      if (!currentHeading.childrenHeadings)\n        currentHeading.childrenHeadings = [];\n      heading.parentHeading = currentHeading;\n      currentHeading.childrenHeadings.push(heading);\n    } else if (level == currentLevel) {\n      heading.indices[heading.indices.length - 1]++;\n\n      let parent = currentHeading.parentHeading;\n      parent.childrenHeadings.push(heading);\n      heading.parentHeading = parent;\n    } else {\n      heading.indices = heading.indices.slice(0, level);\n      heading.indices[heading.indices.length - 1]++;\n\n      let grandParent = currentHeading.parentHeading.parentHeading;\n      grandParent.childrenHeadings.push(heading);\n      heading.parentHeading = grandParent;\n    }\n    currentHeading = heading;\n    currentLevel = level;\n  }\n  return res;\n};\n\nconst parse = (str, strlen, index, e) => {\n  let buffer = \"\",\n    has,\n    plain = \"\",\n    nextElement,\n    content = [],\n    options = {},\n    referenceIndex = 0,\n    images = [],\n    headings = [],\n    nextPlain,\n    hasSelfClose;\n\n  strlen = strlen === null ? str.length : strlen;\n  let { elementName, startToken, endToken, allowedChildren } = e;\n  index += startToken === null ? 0 : startToken.length;\n  plain += startToken === null ? \"\" : startToken;\n\n  while (index < strlen) {\n    // console.log(index);\n    hasSelfClose = false;\n    has = false;\n    for (const matchElement of allowedChildren) {\n      if (!taste(str, matchElement.startToken, index)) continue;\n      has = true;\n      if (buffer) content.push({ elementName: \"Text\", text: buffer });\n      buffer = \"\";\n\n      if ((hasSelfClose = matchElement.selfClose)) {\n        content.push({ elementName: matchElement.elementName });\n        plain += matchElement.startToken;\n        index += matchElement.startToken.length;\n        break;\n      }\n\n      [index, nextElement, nextPlain] = parse(str, strlen, index, matchElement);\n      plain += nextPlain;\n      content.push(nextElement);\n\n      if (matchElement.elementName == \"Reference\") {\n        nextElement.referenceIndex = ++referenceIndex;\n      }\n      if (/^Heading/.exec(nextElement.elementName) !== null) {\n        headings.push(nextElement);\n      }\n\n      if (\n        nextElement.elementName == \"Link\" &&\n        nextElement.type == \"media\" &&\n        nextElement.supType == \"File\"\n      ) {\n        images.push(nextElement);\n      }\n\n      if (nextElement.elementName == \"Gallery\") {\n        images.push(...nextElement.images);\n      }\n\n      break;\n    }\n\n    if (hasSelfClose) continue;\n\n    if (!has) {\n      if (endToken) {\n        let catchEndToken = false;\n        for (const eToken of endToken) {\n          if (taste(str, eToken, index)) {\n            catchEndToken = true;\n            index += eToken.length;\n            plain += eToken;\n\n            if (e.elementName == \"Link\") {\n              while (index < strlen) {\n                let nowiki = \"<nowiki />\";\n                if (taste(str, nowiki, index)) {\n                  index += nowiki.length;\n                  break;\n                } else if (/\\w/.test(str[index])) {\n                  plain += str[index++];\n                } else break;\n              }\n            }\n          } // end taste\n        } // end for endToken\n        if (catchEndToken) break;\n      } // end if endToken\n\n      if (index < strlen) {\n        plain += str[index];\n        buffer += str[index++];\n      }\n    } // end not has\n  }\n\n  if (buffer) content.push({ elementName: \"Text\", text: buffer });\n\n  let res = [\n    index,\n    clean({\n      elementName,\n      headings: analyseHeadings(headings),\n      images,\n      ...internalParse(e, content, plain, options)\n    }),\n    plain\n  ];\n\n  // if (elementName == \"Gallery\")\n  //   console.dir({ parsed: JSON.stringify(res[1]), plain });\n\n  return res;\n};\n\nconst main = str => parse(str, null, 0, Global)[1];\n\n// const second = str => parse(str, null, 0, PairPipe)[1];\nexport { main, clean, trimQuote };\n\n// console.log(\n//   JSON.stringify(\n//     main(\n//       `{{Redirect2|NYC|New York, New York|4=New York City (disambiguation)|5=and|6=NYC (disambiguation)|7=and|8=New York, New York (disambiguation)}}\n// {{Use mdy dates|date=January 2020}}\n// {{Short description|Largest city in the United States}}\n// <!-- Don't add a particular image size to most images of this article; it will be reverted. The images need to be able to customize from personal preferences. -->\n// {{Infobox settlement\n// | name                     = New York<!-- DO NOT change without discussion -->\n// | official_name            = <!-- DO NOT add to this parameter without consensus -->\n// | settlement_type          = [[City (New York)|City]]\n// | named_for                = [[James II of England|James, Duke of York]]\n// |image_skyline             = {{multiple image\n// | border                   = infobox\n// | total_width              = 290\n// | image_style              = border:1;\n// | perrow                   = 1/3/2/2\n// | image1                   = Lower Manhattan skyline - June 2017.jpg\n// | image2                   = Central park pond.jpg\n// | image3                   = Unisphere Flushing Meadows Queens.jpg\n// | image4                   = Brooklyn Bridge, west tower (7433306334).jpg\n// | image5                   = LadyLiberty02.jpg\n// | image6                   = Times_square_night.jpg\n// | image7                   = Midtown Manhattan 2019.jpg\n// | image8                   = Manhattan Bridge 2 (6214831091).jpg\n// }}\n// | image_caption            = From top, left to right: [[Lower Manhattan]], [[Central Park]], the [[Unisphere]], the [[Brooklyn Bridge]], [[Statue of Liberty]], [[Times Square]], [[Midtown Manhattan]], [[Manhattan Bridge]]\n// | image_flag               = Flag of New York City.svg\n// | image_seal               = Seal_of_New_York_City_BW.svg\n// | image_blank_emblem       = NYC Logo Wolff Olins.svg\n// | blank_emblem_type        = [[Wordmark]]\n// | nickname                 = ''See [[Nicknames of New York City]]''\n// <!-- maps and coordinates -->\n// | image_map                = {{Maplink|frame=yes|plain=y|frame-width=290|frame-height=270|frame-align=center|stroke-width=3|zoom=9|frame-lat=40.7|frame-long=-73.944|type=shape-inverse|stroke-color=#808080|id=Q60|title=New York City}}\n// | mapsize                  =\n// | map_caption              = Interactive map outlining New York City\n// | pushpin_map              = New York#USA#North America\n// | pushpin_relief           = 1\n// |pushpin_mapsize           = 290px\n// | pushpin_map_caption      = Location within the state of New York##Location within the United States##Location within North America\n// | pushpin_label            = New York\n// | pushpin_label_position   = left\n// | coordinates              = {{coord|40.661|N|73.944|W|region:US-NY|format=dms|display=inline,title}}\n// | coor_pinpoint            = <!-- to specify exact location of coordinates (was coor_type) -->\n// | coordinates_footnotes    =<ref name=\"GR1\">{{cite web |url=https://www.census.gov/geographies/reference-files/time-series/geo/gazetteer-files.html |publisher=[[United States Census Bureau]] |accessdate=April 23, 2011 |date=February 12, 2011 |title=US Gazetteer files: 2010, 2000, and 1990}}</ref>\n// | subdivision_type         = Country\n// | subdivision_name         = {{nowrap|{{flag|United States}}}}\n// | subdivision_type2        = State\n// | subdivision_name2        = {{flag|New York}}\n// ----\n// | subdivision_type3        = [[List of regions of the United States|Region]]\n// | subdivision_name3        = [[Mid-Atlantic (United States)|Mid-Atlantic]]\n// | subdivision_type4        = [[County (United States)|Constituent counties]] ([[Boroughs of New York City|boroughs]])\n// | subdivision_name4        = [[The Bronx|Bronx (The Bronx)]]<br />[[Brooklyn|Kings (Brooklyn)]]<br />[[Manhattan|New York (Manhattan)]]<br />[[Queens|Queens (Queens)]]<br />[[Staten Island|Richmond (Staten Island)]]\n// ----\n// | subdivision_type5        = [[Colony|Historic colonies]]\n// | subdivision_name5        = [[New Netherland]]<br />[[Province of New York]]\n// | established_title        = Settled\n// | established_date         = 1624\n// | established_title1       = [[City of Greater New York|Consolidated]]\n// | established_date1        = 1898\n// | established_title2       =\n// | government_footnotes     =\n// | government_type          = [[Mayor–council government|Mayor–Council]]\n// | governing_body           = [[New York City Council]]\n// | leader_title             = [[Mayor of New York City|Mayor]]\n// | leader_name              = [[Bill de Blasio]] ([[Democratic Party (United States)|D]])\n// | total_type               = Total\n// | unit_pref                = Imperial\n// | area_footnotes           =<ref name=\"GR1\" />\n// | area_total_sq_mi         = 468.484\n// | area_land_sq_mi          = 302.643\n// | area_water_sq_mi         = 165.841\n// | area_metro_sq_mi         = 13318\n// | elevation_footnotes      =<ref name=\"GR3\">{{cite web |url=http://geonames.usgs.gov |accessdate=January 31, 2008 |title=US Board on Geographic Names |publisher=[[United States Geological Survey]] |date=June 23, 2018}} Search for feature ID 975772.</ref>\n// | elevation_m              = 10\n// | elevation_ft             = 33\n// | population_rank          = [[List of United States cities by population|1st in the U.S.]]\n// | population_density_sq_mi = 27,751\n// | population_as_of         = [[2010 United States Census|2010]]\n// | population_total         = 8175133\n// | population_footnotes     =<ref name=Census2010>[https://www.census.gov Community Facts for New York City] , [[United States Census Bureau]]. Retrieved May 26, 2017.</ref>\n// | population_est           = 8398748\n// | pop_est_as_of            = 2018\n// | pop_est_footnotes        =<ref name=2018Estimate />\n// | population_blank1_title  = [[Metropolitan statistical area|MSA (2018)]]\n// | population_blank1        = 19,979,477<ref name=\"MetroEst\">{{cite web|url=https://factfinder.census.gov/bkmk/table/1.0/en/PEP/2017/GCTPEPANNR.US24PR|title=Annual Estimates of the Resident Population: April 1, 2010 to July 1, 2017—Metropolitan Statistical Area; and for Puerto Rico—2017 Population Estimates|publisher=U.S. Census Bureau|accessdate=March 24, 2018|archive-url=https://archive.today/20200213005215/https://factfinder.census.gov/bkmk/table/1.0/en/PEP/2017/GCTPEPANNR.US24PR|archive-date=February 13, 2020|url-status=dead}}</ref> ([[List of metropolitan statistical areas|1st]])\n// | population_blank2_title  = [[New York metropolitan area|CSA (2018)]]\n// | population_blank2        = 22,679,948<ref name=CombinedEst>{{cite web |url=https://www.census.gov |title=Annual Estimates of the Resident Population: April 1, 2010 to July 1, 2018—Combined Statistical Area; and for Puerto Rico—2017 Population Estimates |publisher=U.S. Census Bureau |accessdate=April 27, 2018 }}</ref> ([[List of Combined Statistical Areas|1st]])\n// | population_demonym       = New Yorker\n// | blank6_name              = [[GDP]] (City, 2018)\n// | blank6_info              = $842.3&nbsp;billion<ref name=\"bea.gov\">[https://www.bea.gov/system/files/2019-12/lagdp1219.pdf ''Local Area Gross Domestic Product, 2018''], [[Bureau of Economic Analysis]], released December 17, 2019. Accessed December 12, 2019.</ref> (1st)\n// | blank7_name              = [[Gross metropolitan product|GMP]] (Metro, 2020)\n// | blank7_info              = $2.0&nbsp;trillion<ref name=\"NYCMetroGMP\">{{cite web|url=https://www.statista.com/statistics/183808/gmp-of-the-20-biggest-metro-areas/|title=U.S. metro areas—ranked by Gross Metropolitan Product (GMP) 2020 {{!}} Statistic|website=Statista|accessdate=May 31, 2019}}</ref> (1st)\n// | timezone1                = [[Eastern Time Zone|EST]]\n// | utc_offset1              = −05:00\n// | timezone1_DST            = [[Eastern Time Zone|EDT]]\n// | utc_offset1_DST          = −04:00\n// | postal_code_type         = [[ZIP Code]]s\n// | postal_code              = 100xx–104xx, 11004–05, 111xx–114xx, 116xx\n// | area_code                = [[Area codes 212, 646, and 332|212/646/332]], [[Area codes 718, 347, and 929|718/347/929]], [[Area code 917|917]]\n// | blank_name               = [[Federal Information Processing Standards|FIPS code]]\n// | blank_info               = 36-51000\n// | blank1_name              = [[Geographic Names Information System|GNIS]] feature ID\n// | blank1_info              = 975772\n// | blank2_name              = Major airports\n// | blank2_info              = [[John F. Kennedy International Airport]], [[Newark Liberty International Airport]], [[LaGuardia Airport]]\n// | blank4_name              = [[Commuter rail]]\n// | blank4_info              = [[LIRR]], [[Metro-North]], [[NJ Transit Rail Operations|NJ Transit]]\n// | blank5_name              = [[Rapid transit]]\n// | blank5_info              = [[New York City Subway|Subway]], [[Staten Island Railway]], [[PATH (rail system)|PATH]]\n// | blank_name_sec2          = Largest [[Boroughs of New York City|borough]] by area\n// | blank_info_sec2          = [[Queens]] {{convert|109|sqmi|km2}}\n// | blank1_name_sec2         = Largest borough by population\n// | blank1_info_sec2         = [[Brooklyn]] (2015 est 2,636,735)<ref name=BrooklynQuickFacts>{{cite web |title=State & County QuickFacts—Kings County (Brooklyn Borough), New York |url=http://quickfacts.census.gov/qfd/states/36/36047.html |publisher=United States Census Bureau |accessdate=March 24, 2016 |archiveurl=https://web.archive.org/web/20160217175357/http://quickfacts.census.gov/qfd/states/36/36047.html |archivedate=February 17, 2016}}</ref>\n// | blank2_name_sec2         = Largest borough by [[GDP]] (2018)\n// | blank2_info_sec2         = [[Manhattan]] $600.2 billion<ref name=\"bea.gov\"/>\n// | website                  = [https://www.nyc.gov/ NYC.gov]\n// | population_density_km2   = 10,715\n// }}\n\n// {{Regions of New York}}\n\n// '''New York City''' ('''NYC'''), often called the '''City of New York''' or simply '''New York''' `\n//     ),\n//     null,\n//     2\n//   )\n// );\n\n// console.log(\n//   JSON.stringify(\n//     main(`{{Infobox settlement\n// | name                     = New York<!-- DO NOT change without discussion -->\n// | official_name            = <!-- DO NOT add to this parameter without consensus -->\n// | settlement_type          = [[City (New York)|City]]\n// | named_for                = [[James II of England|James, Duke of York]]\n// |image_skyline             = {{multiple image\n// | border                   = infobox\n// | total_width              = 290\n// | image_style              = border:1;\n// | perrow                   = 1/3/2/2\n// | image1                   = Lower Manhattan skyline - June 2017.jpg\n// | image2                   = Central park pond.jpg\n// | image3                   = Unisphere Flushing Meadows Queens.jpg\n// | image4                   = Brooklyn Bridge, west tower (7433306334).jpg\n// | image5                   = LadyLiberty02.jpg\n// | image6                   = Times_square_night.jpg\n// | image7                   = Midtown Manhattan 2019.jpg\n// | image8                   = Manhattan Bridge 2 (6214831091).jpg\n// }}\n// | image_caption            = From top, left to right: [[Lower Manhattan]], [[Central Park]], the [[Unisphere]], the [[Brooklyn Bridge]], [[Statue of Liberty]], [[Times Square]], [[Midtown Manhattan]], [[Manhattan Bridge]]\n// | image_flag               = Flag of New York City.svg\n// | image_seal               = Seal_of_New_York_City_BW.svg\n// | image_blank_emblem       = NYC Logo Wolff Olins.svg\n// | blank_emblem_type        = [[Wordmark]]\n// | nickname                 = ''See [[Nicknames of New York City]]''\n// <!-- maps and coordinates -->\n// | image_map                = {{Maplink|frame=yes|plain=y|frame-width=290|frame-height=270|frame-align=center|stroke-width=3|zoom=9|frame-lat=40.7|frame-long=-73.944|type=shape-inverse|stroke-color=#808080|id=Q60|title=New York City}}\n// | mapsize                  =\n// | map_caption              = Interactive map outlining New York City\n// | pushpin_map              = New York#USA#North America\n// | pushpin_relief           = 1\n// |pushpin_mapsize           = 290px\n// | pushpin_map_caption      = Location within the state of New York##Location within the United States##Location within North America\n// | pushpin_label            = New York\n// | pushpin_label_position   = left\n// | coordinates              = {{coord|40.661|N|73.944|W|region:US-NY|format=dms|display=inline,title}}\n// | coor_pinpoint            = <!-- to specify exact location of coordinates (was coor_type) -->\n// | coordinates_footnotes    =<ref name=\"GR1\">{{cite web |url=https://www.census.gov/geographies/reference-files/time-series/geo/gazetteer-files.html |publisher=[[United States Census Bureau]] |accessdate=April 23, 2011 |date=February 12, 2011 |title=US Gazetteer files: 2010, 2000, and 1990}}</ref>\n// | subdivision_type         = Country\n// | subdivision_name         = {{nowrap|{{flag|United States}}}}\n// | subdivision_type2        = State\n// | subdivision_name2        = {{flag|New York}}\n// ----\n// | subdivision_type3        = [[List of regions of the United States|Region]]\n// | subdivision_name3        = [[Mid-Atlantic (United States)|Mid-Atlantic]]\n// | subdivision_type4        = [[County (United States)|Constituent counties]] ([[Boroughs of New York City|boroughs]])\n// | subdivision_name4        = [[The Bronx|Bronx (The Bronx)]]<br />[[Brooklyn|Kings (Brooklyn)]]<br />[[Manhattan|New York (Manhattan)]]<br />[[Queens|Queens (Queens)]]<br />[[Staten Island|Richmond (Staten Island)]]\n// ----\n// | subdivision_type5        = [[Colony|Historic colonies]]\n// | subdivision_name5        = [[New Netherland]]<br />[[Province of New York]]\n// | established_title        = Settled\n// | established_date         = 1624\n// | established_title1       = [[City of Greater New York|Consolidated]]\n// | established_date1        = 1898\n// | established_title2       =\n// | government_footnotes     =\n// | government_type          = [[Mayor–council government|Mayor–Council]]\n// | governing_body           = [[New York City Council]]\n// | leader_title             = [[Mayor of New York City|Mayor]]\n// | leader_name              = [[Bill de Blasio]] ([[Democratic Party (United States)|D]])\n// | total_type               = Total\n// | unit_pref                = Imperial\n// | area_footnotes           =<ref name=\"GR1\" />\n// | area_total_sq_mi         = 468.484\n// | area_land_sq_mi          = 302.643\n// | area_water_sq_mi         = 165.841\n// | area_metro_sq_mi         = 13318\n// | elevation_footnotes      =<ref name=\"GR3\">{{cite web |url=http://geonames.usgs.gov |accessdate=January 31, 2008 |title=US Board on Geographic Names |publisher=[[United States Geological Survey]] |date=June 23, 2018}} Search for feature ID 975772.</ref>\n// | elevation_m              = 10\n// | elevation_ft             = 33\n// | population_rank          = [[List of United States cities by population|1st in the U.S.]]\n// | population_density_sq_mi = 27,751\n// | population_as_of         = [[2010 United States Census|2010]]\n// | population_total         = 8175133\n// | population_footnotes     =<ref name=Census2010>[https://www.census.gov Community Facts for New York City] , [[United States Census Bureau]]. Retrieved May 26, 2017.</ref>\n// | population_est           = 8398748\n// | pop_est_as_of            = 2018\n// | pop_est_footnotes        =<ref name=2018Estimate />\n// | population_blank1_title  = [[Metropolitan statistical area|MSA (2018)]]\n// | population_blank1        = 19,979,477<ref name=\"MetroEst\">{{cite web|url=https://factfinder.census.gov/bkmk/table/1.0/en/PEP/2017/GCTPEPANNR.US24PR|title=Annual Estimates of the Resident Population: April 1, 2010 to July 1, 2017—Metropolitan Statistical Area; and for Puerto Rico—2017 Population Estimates|publisher=U.S. Census Bureau|accessdate=March 24, 2018|archive-url=https://archive.today/20200213005215/https://factfinder.census.gov/bkmk/table/1.0/en/PEP/2017/GCTPEPANNR.US24PR|archive-date=February 13, 2020|url-status=dead}}</ref> ([[List of metropolitan statistical areas|1st]])\n// | population_blank2_title  = [[New York metropolitan area|CSA (2018)]]\n// | population_blank2        = 22,679,948<ref name=CombinedEst>{{cite web |url=https://www.census.gov |title=Annual Estimates of the Resident Population: April 1, 2010 to July 1, 2018—Combined Statistical Area; and for Puerto Rico—2017 Population Estimates |publisher=U.S. Census Bureau |accessdate=April 27, 2018 }}</ref> ([[List of Combined Statistical Areas|1st]])\n// | population_demonym       = New Yorker\n// | blank6_name              = [[GDP]] (City, 2018)\n// | blank6_info              = $842.3&nbsp;billion<ref name=\"bea.gov\">[https://www.bea.gov/system/files/2019-12/lagdp1219.pdf ''Local Area Gross Domestic Product, 2018''], [[Bureau of Economic Analysis]], released December 17, 2019. Accessed December 12, 2019.</ref> (1st)\n// | blank7_name              = [[Gross metropolitan product|GMP]] (Metro, 2020)\n// | blank7_info              = $2.0&nbsp;trillion<ref name=\"NYCMetroGMP\">{{cite web|url=https://www.statista.com/statistics/183808/gmp-of-the-20-biggest-metro-areas/|title=U.S. metro areas—ranked by Gross Metropolitan Product (GMP) 2020 {{!}} Statistic|website=Statista|accessdate=May 31, 2019}}</ref> (1st)\n// | timezone1                = [[Eastern Time Zone|EST]]\n// | utc_offset1              = −05:00\n// | timezone1_DST            = [[Eastern Time Zone|EDT]]\n// | utc_offset1_DST          = −04:00\n// | postal_code_type         = [[ZIP Code]]s\n// | postal_code              = 100xx–104xx, 11004–05, 111xx–114xx, 116xx\n// | area_code                = [[Area codes 212, 646, and 332|212/646/332]], [[Area codes 718, 347, and 929|718/347/929]], [[Area code 917|917]]\n// | blank_name               = [[Federal Information Processing Standards|FIPS code]]\n// | blank_info               = 36-51000\n// | blank1_name              = [[Geographic Names Information System|GNIS]] feature ID\n// | blank1_info              = 975772\n// | blank2_name              = Major airports\n// | blank2_info              = [[John F. Kennedy International Airport]], [[Newark Liberty International Airport]], [[LaGuardia Airport]]\n// | blank4_name              = [[Commuter rail]]\n// | blank4_info              = [[LIRR]], [[Metro-North]], [[NJ Transit Rail Operations|NJ Transit]]\n// | blank5_name              = [[Rapid transit]]\n// | blank5_info              = [[New York City Subway|Subway]], [[Staten Island Railway]], [[PATH (rail system)|PATH]]\n// | blank_name_sec2          = Largest [[Boroughs of New York City|borough]] by area\n// | blank_info_sec2          = [[Queens]] {{convert|109|sqmi|km2}}\n// | blank1_name_sec2         = Largest borough by population\n// | blank1_info_sec2         = [[Brooklyn]] (2015 est 2,636,735)<ref name=BrooklynQuickFacts>{{cite web |title=State & County QuickFacts—Kings County (Brooklyn Borough), New York |url=http://quickfacts.census.gov/qfd/states/36/36047.html |publisher=United States Census Bureau |accessdate=March 24, 2016 |archiveurl=https://web.archive.org/web/20160217175357/http://quickfacts.census.gov/qfd/states/36/36047.html |archivedate=February 17, 2016}}</ref>\n// | blank2_name_sec2         = Largest borough by [[GDP]] (2018)\n// | blank2_info_sec2         = [[Manhattan]] $600.2 billion<ref name=\"bea.gov\"/>\n// | website                  = [https://www.nyc.gov/ NYC.gov]\n// | population_density_km2   = 10,715\n// }}`),\n//     null,\n//     2\n//   )\n// );\n\n// let s = `align = right\n//  | direction = vertical\n//  | image1 = New York City Marathon 2014 (15082977714).jpg\n//  | width1 = 225\n//  | caption1 = The [[New York City Marathon|New York Marathon]] is the largest marathon in the world.<ref name=\"NYCMarathonWorld'sLargest\">{{cite web |url=http://www.runnersworld.com/new-york-city-marathon/2017-new-york-city-marathon-entrants-by-the-numbers |title=2017 New York City Marathon Entrants By the Numbers—Applications for the world's largest race were at an all-time high for 2017 |author=Kit Fox |publisher=Runner's World—Rodale Inc |date=March 2, 2017 |accessdate=May 10, 2017}}</ref>\n//  | alt1 = Three runners in a race down a street where onlookers are cheering behind barriers.\n//  | image2 = Arthur ashe stadium interior.jpg\n//  | width2 = 225\n//  | caption2 = The [[U.S. Open (tennis)|U.S. Open Tennis Championships]] are held every August and September in [[Flushing Meadows-Corona Park]], Queens.\n//  | alt2 = A tennis stadium pack with fans watching a grass court.\n//  | image3 = Citi Field 2011.JPG\n//  | width3 = 225\n//  | caption3 = [[Citi Field]], also in Flushing Meadows-Corona Park, has been home to the [[New York Mets]] since 2009.\n//  | alt3 = A baseball stadium from behind home plate in the evening.`;\n\n// console.log(parsePairPipe(s));\n","import React, { Fragment } from \"react\";\nimport { Element } from \"./../Elements\";\n\nconst Content = ({ content, images }) => {\n  if (!content) return \"Loading...\";\n\n  return (\n    <Fragment>\n      {content.map((element, index) => (\n        <Element key={index} props={element} images={images} />\n      ))}\n    </Fragment>\n  );\n};\n\nexport default Content;\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport { ImagesContext } from \"./../Article\";\n// import lazySizes from \"lazysizes\";\n\nexport const Text = ({ text }) => {\n  let [splitText, setSplitText] = useState(\"\");\n  useEffect(() => {\n    let paragraphs = text.split(\"\\n\\n\"),\n      res = [];\n    for (let i = 0; i < paragraphs.length; i++) {\n      res.push(<span key={-i - 1}>{paragraphs[i]}</span>);\n      if (i < paragraphs.length - 1) {\n        res.push(<br key={i} />);\n      }\n    }\n    setSplitText(res);\n  }, []);\n  return <Fragment>{splitText}</Fragment>;\n};\n\nexport const Template = ({ props }) => {\n  if (props.type == \"N/A\" || props.type == \"Infobox\") return \"\";\n\n  if (Array.isArray(props.children)) {\n    return (\n      <Fragment>\n        {props.children.map((e, i) => (\n          <Element key={i} props={e} />\n        ))}\n      </Fragment>\n    );\n  }\n\n  let { attribute } = props;\n  // console.log(props);\n  if (props.type == \"multipleImages\") {\n    return (\n      <div className=\"wiki-gallery\">\n        {props.images &&\n          props.images.map((e, i) => {\n            return <Element key={i} props={e} />;\n          })}\n      </div>\n    );\n  }\n  if (props.type == \"cite\")\n    return (\n      <Fragment>\n        <a className=\"wiki-cite\" href={attribute.url}>\n          {`\"${attribute.title}\"`}\n        </a>\n        {\". \"}\n        {props.subType == \"web\" && attribute.publisher && (\n          <span>{`${attribute.publisher}. `}</span>\n        )}\n        {props.subType == \"web\" && attribute.accessdate && (\n          <span>{`Retrieved ${attribute.accessdate}. `}</span>\n        )}\n      </Fragment>\n    );\n\n  return \"<--N/A\" + JSON.stringify(props) + \"-->\";\n};\n\nexport const Element = ({ props }) => {\n  let { elementName, children } = props;\n\n  if (elementName == \"Comment\") return \"\";\n\n  if (elementName == \"ExternalLink\") {\n    return (\n      <a href={\"https://en.wikipedia.org/wiki/\" + props.url}>\n        {props.displayText}\n      </a>\n    );\n  }\n\n  if (elementName == \"Break\") {\n    return <br />;\n  }\n\n  if (elementName == \"Text\") {\n    return <Text text={props.text} />;\n  }\n\n  if (elementName == \"Template\") {\n    return <Template {...{ props }} />;\n  }\n\n  let renderChildren;\n  if (Array.isArray(children)) {\n    renderChildren = children.map((e, i) => <Element key={i} props={e} />);\n  }\n\n  if (elementName == \"Bold\") {\n    return <span className=\"wiki-bold\">{renderChildren}</span>;\n  }\n\n  if (elementName == \"Italic\") {\n    return <span className=\"wiki-italic\">{renderChildren}</span>;\n  }\n\n  if (elementName == \"BoldItalic\") {\n    return <span className=\"wiki-italic wiki-bold\">{renderChildren}</span>;\n  }\n\n  if (elementName == \"Block Quote\") {\n    return <blockquote>{renderChildren}</blockquote>;\n  }\n\n  if (elementName.slice(0, -1) == \"Heading\") {\n    return (\n      <div className={props.className} id={props.id}>\n        {props.text}\n      </div>\n    );\n  }\n\n  if (elementName == \"Gallery\") {\n    return (\n      <div className=\"wiki-gallery\">\n        {props.images.map((e, i) => {\n          return <Element key={i} props={e} />;\n        })}\n      </div>\n    );\n  }\n\n  if (elementName == \"Link\") {\n    let type = props.type;\n    if (type == \"wikiLink\") {\n      return (\n        <a href={\"https://en.wikipedia.org/wiki/\" + props.url}>\n          {props.displayText.map((e, i) => {\n            return <Element key={i} props={e} />;\n          })}\n        </a>\n      );\n    }\n    if (type == \"media\") {\n      const valueImages = React.useContext(ImagesContext);\n\n      if (props && props.url && valueImages && valueImages.images[props.url]) {\n        let float =\n          props.options && props.options.indexOf(\"left\") > -1\n            ? \"fl-left\"\n            : \"fl-right\";\n        return (\n          <Fragment>\n            <div className={`wiki-img__container ${float}`}>\n              <img\n                id={props.url}\n                className=\"lazyload wiki-img__image\"\n                data-src={valueImages.images[props.url].url}\n              />\n              <div className=\"wiki-img__caption\">\n                {props.caption\n                  ? props.caption.map((e, i) => <Element key={i} props={e} />)\n                  : \"\"}\n              </div>\n            </div>\n          </Fragment>\n        );\n      }\n    }\n  } else if (elementName == \"Reference\") {\n    if (\n      props.children &&\n      props.children.length &&\n      props.children[0].attribute &&\n      props.children[0].attribute.url\n    ) {\n      return (\n        <sup>\n          <a href={props.children[0].attribute.url}>{props.referenceIndex}</a>\n        </sup>\n      );\n    }\n    return (\n      <sup>\n        <a href={props}>{props.referenceIndex}</a>\n      </sup>\n    );\n  }\n  return JSON.stringify(props);\n};\n","import React from \"react\";\nimport SearchIcon from \"./../../../asset/images/search.svg\";\nimport ProfileIcon from \"./../../../asset/images/profile.svg\";\nimport \"./style.sass\";\n\nconst Menu = () => {\n  // const [position, setPosition] = React.useState(document.body.scrollTop);\n\n  // React.useEffect(() => {\n  //   function handleClickOutside() {\n  //     setPosition(document.body.scrollTop);\n  //   }\n  //   window.addEventListener(\"scroll\", handleClickOutside);\n  //   return () => window.removeEventListener(\"scroll\", handleClickOutside);\n  // }, []);\n\n  return (\n    <div className=\"menu\">\n      <div className=\"menu__left\">\n        <span className=\"logo-wiki\">Wiki</span>\n        <span className=\"logo-pedia\">pedia</span>\n      </div>\n      <div className=\"menu__main\">\n        <button className=\"menu__button button--choose\">Article</button>\n        <button className=\"menu__button\">Talk</button>\n        <button className=\"menu__button button--choose\">Read</button>\n        <button className=\"menu__button\">View source</button>\n        <button className=\"menu__button\">View history</button>\n        {/*<button className=\"menu__button\" id=\"position\">\n          {position}\n        </button>*/}\n      </div>\n      <div className=\"menu__search-icon\">\n        <SearchIcon />\n      </div>\n      <div className=\"menu__right\">\n        <input\n          type=\"text\"\n          placeholder=\"Search Wikipedia\"\n          className=\"menu__search-input\"\n        />\n        <div className=\"menu__profile-icon\">\n          <ProfileIcon />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Menu;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.607 192.803l62.401-62.402c13.063 10.67 29.263 16.475 46.356 16.475h.002c19.614 0 38.058-7.639 51.927-21.509 13.871-13.87 21.511-32.313 21.51-51.931-.001-19.616-7.64-38.058-21.509-51.928C157.425 7.639 138.982 0 119.365 0 99.749 0 81.307 7.639 67.437 21.509 53.565 35.38 45.927 53.823 45.928 73.44c0 17.094 5.805 33.294 16.475 46.355L0 182.197l10.607 10.606zM60.928 73.44c-.001-15.611 6.078-30.287 17.116-41.324C89.081 21.078 103.756 15 119.365 15c15.61 0 30.285 6.078 41.322 17.115s17.116 25.712 17.116 41.322c0 15.611-6.078 30.286-17.116 41.324-11.037 11.038-25.712 17.116-41.321 17.116-15.61-.001-30.286-6.079-41.323-17.116C67.006 103.724 60.928 89.05 60.928 73.44z\"\n});\n\nfunction SvgSearch(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 192.804 192.804\"\n  }, props), _ref);\n}\n\nexport default SvgSearch;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M100.594.002C45.119.002 0 45.12 0 100.593c0 55.469 45.122 100.591 100.598 100.591 55.465 0 100.587-45.122 100.587-100.591C201.182 45.12 156.059.002 100.594.002zm-27.5 81.469l.204-.225c.82-.598 1.22-1.528 1.07-2.505-2.029-12.19-.698-17.272-.251-18.546C77.66 49.33 88.769 44.301 90.952 43.414a11.093 11.093 0 012.19-.576l.258-.057 1.789-.097.014.111.412-.039c.372-.039.723-.093 1.163-.183l.394-.086c.351.004 4.678.551 11.102 2.523l4.466 1.539c8.167 2.412 11.928 6.904 12.623 7.805 6.539 7.412 4.792 18.599 3.167 24.608a2.509 2.509 0 00.329 2.044l.372.458c.476.644.898 3.128-.523 8.407-.268 1.6-.859 2.902-1.739 3.783a2.573 2.573 0 00-.637 1.321c-2.208 12.963-13.825 27.461-26.065 27.461-10.386 0-22.243-13.342-24.376-27.45a2.575 2.575 0 00-.669-1.389c-.891-.916-1.453-2.244-1.797-4.209-1.025-3.705-1.132-6.679-.331-7.917zM49.778 137.68c.451-.573 2.96-3.514 8.042-5.451 4.466-1.374 15.504-5.039 21.541-9.416.283-.154.562-.444.791-.684a49.053 49.053 0 012.423-2.459l.562-.533.573.537c5.315 5.014 11.198 7.763 16.559 7.763 5.637 0 11.452-2.441 16.821-7.061l.422-.365 1.138.555c1.016.934 2.781 2.215 3.6 2.609l1.045.508-.107.115.465.283a44.004 44.004 0 003.335 1.804c1.278.562 2.344.981 3.454 1.342.93.301 5.898 1.972 11.549 4.585l1.077.322c5.522 2.115 7.977 5.053 8.224 5.361 6.553 9.72 9.072 27.854 10.006 37.961-17.128 13.911-38.677 21.57-60.697 21.57-22.035 0-43.587-7.662-60.708-21.573.917-10.076 3.411-28.156 9.885-37.773zm105.705-2.985l-.347-.404c-1.632-2.033-5.222-4.899-10.443-6.9l-.823-.247a117.918 117.918 0 00-11.757-4.645l-.14.412.036-.444a32.672 32.672 0 01-2.874-1.127c-5.952-2.924-6.71-4.627-6.839-5.021l-.297-.676.261-.616c4.474-5.583 7.612-12.086 8.815-18.213l.15-.372c1.26-1.575 2.054-3.436 2.369-5.476 1.417-5.128 1.485-8.904.2-11.535l-.122-.268.068-.293c1.589-6.642 3.114-19.097-4.513-27.754-1.206-1.525-5.826-6.685-14.956-9.359l-4.438-1.525c-7.383-2.273-12-2.766-12.601-2.77-.497 0-.913.047-1.539.193l-.587.1a6.652 6.652 0 00-.998-.072c-2.358 0-4.914 1.02-5.035 1.063-2.555 1.07-15.543 7.065-19.655 19.791-.676 1.8-2.076 7.301-.279 19.344l.057.34-.211.283c-1.847 2.477-1.99 6.506-.444 11.921.39 2.398 1.174 4.313 2.337 5.766l.2.429c1.124 6.292 3.926 12.515 8.099 17.991l.361.487-.329.49c-.179.251-.308.53-.351.73-1.031 2.931-12.544 8.07-22.647 11.159-7.383 2.791-10.508 7.258-10.508 7.258-6.259 9.291-9.126 24.923-10.44 36.723-19.787-18.245-31.104-44.023-31.104-70.865 0-53.171 43.258-96.429 96.436-96.429 53.171 0 96.436 43.258 96.436 96.429 0 26.845-11.334 52.634-31.122 70.89-1.346-11.89-4.245-27.586-10.426-36.788z\",\n  fill: \"#010002\"\n});\n\nfunction SvgProfile(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 201.185 201.185\"\n  }, props), _ref);\n}\n\nexport default SvgProfile;","import React, { useRef } from \"react\";\nimport LeftButton from \"./../../../asset/images/left.svg\";\nimport RightButton from \"./../../../asset/images/right.svg\";\nimport \"./style.sass\";\n\nconst Navigation = ({ headings }) => {\n  const headingsRef = useRef(null);\n\n  const handle = direction => {\n    let width = headingsRef.current.scrollWidth;\n    let pos = headingsRef.current.scrollLeft;\n    let visibleWidth = headingsRef.current.clientWidth;\n    let maxPos = width - visibleWidth;\n    let slideWidth = maxPos * 0.15;\n\n    console.log({ width, pos, visibleWidth, maxPos });\n    headingsRef.current.scrollLeft =\n      direction == \"right\"\n        ? Math.min(maxPos, pos + slideWidth)\n        : Math.max(0, pos - slideWidth);\n  };\n\n  const handle2 = id => {\n    let heading = document.getElementById(id);\n    let body = document.body;\n    body.scrollTop =\n      heading.offsetTop -\n      document.getElementsByClassName(\"menu\")[0].offsetHeight;\n  };\n  return (\n    <div className=\"navigation\">\n      <div className=\"navigation__content\">\n        <button\n          onClick={() => handle(\"left\")}\n          className=\"navigation__button navigation__left-button\"\n        >\n          <LeftButton />\n        </button>\n        <div ref={headingsRef} className=\"navigation__headings\">\n          {headings &&\n            headings.childrenHeadings.map((heading, index) => {\n              return (\n                <button key={index} onClick={() => handle2(heading.id)}>\n                  {heading.text}\n                </button>\n              );\n            })}\n        </div>\n        <button\n          onClick={() => handle(\"right\")}\n          className=\"navigation__button navigation__right-button\"\n        >\n          <RightButton />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Navigation;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M256 0C114.833 0 0 114.833 0 256s114.833 256 256 256 256-114.833 256-256S397.167 0 256 0zm0 490.667C126.604 490.667 21.333 385.396 21.333 256S126.604 21.333 256 21.333 490.667 126.604 490.667 256 385.396 490.667 256 490.667z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M306.208 131.125c-4.167-4.167-10.917-4.167-15.083 0L173.792 248.458c-4.167 4.167-4.167 10.917 0 15.083l117.333 117.333a10.634 10.634 0 007.542 3.125c2.729 0 5.458-1.042 7.542-3.125 4.167-4.167 4.167-10.917 0-15.083L196.417 256l109.792-109.792c4.166-4.166 4.166-10.916-.001-15.083z\"\n});\n\nfunction SvgLeft(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"left_svg__navigation__icon left_svg__icon-left\",\n    viewBox: \"0 0 512 512\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgLeft;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M256 0C114.833 0 0 114.833 0 256s114.833 256 256 256 256-114.833 256-256S397.167 0 256 0zm0 490.667C126.604 490.667 21.333 385.396 21.333 256S126.604 21.333 256 21.333 490.667 126.604 490.667 256 385.396 490.667 256 490.667z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M220.875 131.125c-4.167-4.167-10.917-4.167-15.083 0-4.167 4.167-4.167 10.917 0 15.083L315.583 256 205.792 365.792c-4.167 4.167-4.167 10.917 0 15.083a10.634 10.634 0 007.542 3.125c2.729 0 5.458-1.042 7.542-3.125l117.333-117.333c4.167-4.167 4.167-10.917 0-15.083L220.875 131.125z\"\n});\n\nfunction SvgRight(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"right_svg__navigation__icon right_svg__icon-right\",\n    viewBox: \"0 0 512 512\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgRight;","import \"./../../scss/main.scss\";\nimport \"./../../components/WikiApp/style.sass\";\n\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport App from \"./../../components/WikiApp\";\n\nReactDOM.render(<App />, document.getElementById(\"wikiapp\"));\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587657497339\n      var cssReload = require(\"/Users/hoangnam/Dev/Templates/ReactJS/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"reloadAll\":true,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}